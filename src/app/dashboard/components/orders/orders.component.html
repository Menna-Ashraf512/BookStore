<div class="container py-5">

  <h2 class="mb-4 text-primary">My Orders</h2>

  <div class="row g-4">
    @for (order of ordersList; track order._id) {

      <div class="col-12 col-md-6 col-lg-4">

        <div class="card shadow-sm h-100">

          <div class="card-body d-flex flex-column">

            <!-- Order Header -->
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="card-title mb-0">Order ID: {{ order._id }}</h5>
              <span class="
                badge
                @if(order.status === 'Confirmed') { bg-success }
                @else if(order.status === 'Pending') { bg-warning text-dark }
                @else { bg-danger }
              ">
                {{ order.status }}
              </span>
            </div>

            <!-- Items List -->
            <h6 class="text-secondary">Items:</h6>
            <ul class="list-group list-group-flush mb-3">
              @for (item of order.items; track item._id) {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Book ID: {{ item.book }}</span>
                  <span class="badge bg-primary rounded-pill">{{ item.quantity }}</span>
                </li>
              }
            </ul>

            <!-- Delivery Address -->
            <h6 class="text-secondary">Delivery Address:</h6>
            @if(order.delivery_address) {
              <p class="mb-2">
                {{ order.delivery_address.street }}, {{ order.delivery_address.city }}
              </p>
            } @else {
              <p class="text-muted fst-italic mb-2">No delivery address available</p>
            }

            <!-- Total & Payment Ref -->
            <div class="mt-auto d-flex justify-content-between align-items-center pt-2 border-top">
              <span class="fw-semibold">Total: {{ order.total }} EGP</span>
              <small class="text-muted">Ref: {{ order.payment_ref }}</small>
            </div>

          </div>

        </div>
      </div>

    }
  </div>

</div>
